<form [formGroup]="formulario">
  <div class="contenido" style="min-height:415px">
    <div class="alert alert-info" *ngIf="send">Formulario enviado! Por favor espere..</div>
    <div class="alert alert-danger" *ngIf="error">{{errorInfo}}</div>
    <div class="alert alert-success" *ngIf="success">Registro exitoso! Por favor revise su correo</div>
    <div [hidden]="!esRegistroUsuario">
      <div class="form-row" id="header_titulo">
        <legend>Paso 2: Usuario</legend>
      </div>
      <div formGroupName="user">
        <div class="form-row" style="margin-top:40px">
          <div class="col-md-3">
          </div>
          <div class="col-md-6">
            <input formControlName="email" type="email" class="form-control" name="email" placeholder="Email (*)" ngModel>
            <div *ngIf="isFieldRequired('user.email')" class="alert alert-danger">Debes agregar un correo electrónico.</div>
            <div *ngIf="isFieldEmail('user.email')" class="alert alert-danger">El formato debe ser <i> nombre@dom.com </i>.</div>
          </div>
          <div class="col-md-3">
          </div>
        </div>
        <div class="form-row">
          <div class="col-md-3">
          </div>
          <div class="col-md-6">
            <input formControlName="password" type="password" class="form-control " name="contraseña" placeholder="Contraseña (*)"
              ngModel>
            <div class="alert alert-danger" *ngIf="isFieldValid('user.password')">Debes agregar una contraseña de entre 6-20 caracteres.</div>
          </div>
          <div class="col-md-3">
          </div>
        </div>
        <div class="form-row">
          <div class="col-md-3">
          </div>
          <div class="col-md-6">
            <input formControlName="password_confirmation" type="password" class="form-control "  name="repite contraseña" placeholder="Confirma la contraseña (*)" ngModel>
            <div *ngIf="isFieldRequired('user.password_confirmation')" class="alert alert-danger">Debes agregar una confirmación de contraseña.</div>
            <div *ngIf="isFieldMatchPass('user.password', 'user.password_confirmation')" class="alert alert-danger">Las contraseñas no coinciden.</div>
          </div>
        </div>
        <div class="col-md-3">
        </div>
      </div>
    </div>
    <div formGroupName="organization">
      <div [hidden]="!esRegistroPersonales">
        <div class="form-row" id="header_titulo">
          <legend>Paso 3: Datos de la Organización</legend>
        </div>
        <div class="form-row">
          <div class="col-md-6">
            <input type="text" class="form-control" formControlName="name" placeholder="Nombre de la organización (*)">
            <div class="alert alert-danger" *ngIf="isFieldValid('organization.name')">Debes agregar el nombre de la organización</div>
            <div class="form-row">
              <a class="btn-lg" style="padding:0px">
                <span class="fa fa-whatsapp"></span>
              </a>
              <input type="text" class="form-control" style='width:91%' formControlName="phone" placeholder="Ej: +99-9999-999999 (*)">
              <div *ngIf="isFieldRequired('organization.phone')" class="alert alert-danger">Debes agregar el teléfono.</div>
              <div *ngIf="isFieldPattern('organization.phone')" class="alert alert-danger">Formato de teléfono inválido. Ej: +99-9999-999999 (los guiones pueden obviarse).</div>
            </div>
            <input type="text" formControlName="contact_name" class="form-control" placeholder="Nombre del contacto designado (*)">
            <div class="alert alert-danger" *ngIf="isFieldValid('organization.contact_name')">Debe agregar el nombre del contacto.</div>
            <div class="form-row">
              <a class="btn-lg" style="padding:0px">
                <span class="fa fa-whatsapp"></span>
              </a>
              <input type="text" class="form-control" style='width:91%' formControlName="contact_phone" placeholder="Ej: +99-9999-999999 (*)">
              <div *ngIf="isFieldRequired('organization.contact_phone')" class="alert alert-danger">Debes agregar el teléfono.</div>
              <div *ngIf="isFieldPattern('organization.contact_phone')" class="alert alert-danger">Formato de teléfono inválido. Ej: +99-9999-999999 (los guiones pueden obviarse).</div>
            </div>
          </div>
          <div class="col-md-6">
            <!--<input formControlName="country_id" type="text" class="form-control" placeholder="Pais" >-->
            <select formControlName="country_id" class="form-control">
              <option [ngValue]="null">Seleccione su país (*)</option>
              <option *ngFor="let value of countries" [value]="value.id">{{ value.name }}
              </option>
            </select>
            <div class="alert alert-danger" *ngIf="isFieldValid('organization.country_id')">Debe agregar el país.</div>
            <input formControlName="province" type="text" class="form-control" placeholder="Provincia">
            <!--<div class="alert alert-danger" *ngIf="isFieldValid('organization.province')">* Debe agregar el país (*)</div>-->
            <input formControlName="city" type="text" class="form-control" placeholder="Localidad (*)">
            <div class="alert alert-danger" *ngIf="isFieldValid('organization.city')">Debe agregar la localidad.</div>
            <input formControlName="postal_code" type="text" class="form-control" placeholder="Codigo postal">
            <input formControlName="street" type="text" class="form-control" placeholder="Calle (*)">
            <div class="alert alert-danger" *ngIf="isFieldValid('organization.street')">Debe agregar la calle.</div>
            <div class="form-row">
              <div class="col">
                <input formControlName="number" type="text" class="form-control"  name="numero" placeholder="Número (*)">
              </div>
              <div class="col">
                <input formControlName="floor" type="text" class="form-control"  name="piso" placeholder="Piso">
              </div>
              <div class="col">
                <input formControlName="dept" type="text" class="form-control"  name="departamento" placeholder="Dpto">
              </div>
            </div>
            <div class="alert alert-danger" *ngIf="isFieldValid('organization.number')">Debe agregar la altura de la localidad.</div>
          </div>
        </div>
      </div>


      <div [hidden]="!esRegistroRedes">
        <div class="form-row" id="header_titulo">
          <legend>Paso 4: Intereses y Redes Sociales</legend>
        </div>
        <div class="row">
          <div class="col-md-1">
          </div>
          <div class="col-md-5">
            <div formArrayName="interests" *ngFor="let interest of this.formulario.controls['organization']['controls']['interests']['controls']; let i = index;">
              <span formGroupName="{{i}}">
                <input type="checkbox" formControlName="checked"> {{interest.value.label}}
              </span>
            </div>
          </div>
          <div class="col-md-5" style="margin-top:10px">
            <div formGroupName="accounts" style="width:100%">
              <div *ngFor="let social of this.formulario.controls['organization']['controls']['accounts']['controls']; let i = index;">
                <span formGroupName="{{i}}">
                  <div class="form-row">
                    <a class="btn-lg" style="padding:0px">
                      <span class="{{social.value.image}}"></span>
                    </a>
                    <input type="text" class="form-control" style='width:85%' formControlName="value" placeholder="{{social.value.label}}">
                  </div>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div [hidden]="!esRegistroCondiciones">
        <div class="form-row" id="header_titulo">
          <legend>Paso 5: Bases y Condiciones</legend>
        </div>
        <div class="form-row">
          <label>
            <input type="checkbox" formControlName="share_data"> Acepto ceder mis datos a terceros
          </label>
        </div>
        <div class="form-row">
          <textarea class="form-control" rows="5" readonly style="width:100%">
          Términos y Condiciones
          Bienvenido al sitio de internet www.ver.com.ar  (en adelante el "Sitio") de TOPYED S.A. Los términos y condiciones, que se describen a continuación (en adelante los "Términos y Condiciones") tienen por objeto regular el uso que del mismo realicen las personas que ingresen al Sitio. Por "Usuario" del Sitio se entiende tanto a quienes se registren en el mismo como a los que tan sólo visiten el mismo, (en adelante el "Usuario"). Al registrarse y/o navegar en el Sitio, el Usuario presta su consentimiento al presente.
          Los Términos y Condiciones así como la Política de Privacidad y/o informaciones sobre el Sitio se considerarán de aplicación para todo Usuario del Sitio desde el primer momento en que acceda al mismo. Los presentes términos y condiciones tienen carácter obligatorio y vinculante. Se aplican a todas las compras y actividades realizadas en el Sitio. Si el Usuario no acepta en forma total los presentes Términos y Condiciones y la Política de Privacidad, le rogamos que no avance en el acceso y visita de nuestro Sitio. En caso de avanzar en la visita a nuestro Sitio, se entenderá que el Usuario aceptó sin reservas los presentes Términos y Condiciones y la Política de Privacidad, aceptando recibir mails periódicos con la información que el Sitio determine. Los Términos y Condiciones y la Política de Privacidad podrán ser modificados en todo o en parte en cualquier momento y a exclusivo criterio de TOPYED S.A.; dichos cambios e implementaciones tendrán vigencia a partir del momento mismo en que sean publicados o insertados en el Sitio o desde que sean notificados al Usuario por cualquier medio, lo que ocurra primero. Por lo expuesto, le sugerimos que los visite periódicamente. Las violaciones a los Términos y Condiciones generarán el derecho en favor del titular del Sitio a suspender o terminar la prestación del servicio al Usuario que las haya realizado, por acción u omisión. El Sitio se preocupa por la protección de datos de carácter personal de los Usuarios, de acuerdo a los lineamientos expuestos en nuestra Política de Privacidad.
          Los productos y servicios que se ofrecen por medio del Sitio (en adelante los "Productos"), sólo están disponibles para personas que tengan capacidad legal para comprar. Por lo tanto, aquellos que no cumplan con esta condición deberán abstenerse de suministrar información personal para ser incluida en nuestras bases de datos. Sin embargo pueden hacerlo a través de sus padres o tutores. Los padres, tutores o responsables de los menores de edad o incapaces que utilicen el Sitio serán responsables por dicho uso, incluyendo cualquier cargo, facturación o daño que se derive de él. Si el Usuario está registrado como Empresa, deberá tener capacidad para comprar  a nombre de tal entidad y de obligar a la misma en los términos del presente.
          Responsabilidad
          El Usuario es responsable de toda afirmación y/o expresión y/o acto celebrado con su nombre de usuario y contraseña. El Sitio se reserva el derecho, en cualquier momento y sin necesidad de darle notificación previa, de retirar cualquier envío o dar por concluido su calidad de miembro del Sitio por violación de los Términos y Condiciones aquí descriptos. En caso de que la información o los datos suministrados por el usuario no sean verdaderos, este será responsable por los daños que este hecho pudiera ocasionar.
          El Usuario acepta y reconoce que el sistema puede no siempre estar disponible debido a dificultades técnicas o fallas de Internet, o por cualquier otro motivo ajeno al Sitio, motivo por el cual no podrá imputársele responsabilidad alguna. El contenido del Sitio, junto con y sin que se considere una limitación, sus logotipos, programas, bases de datos, imágenes, textos, información y archivos son de propiedad de TOPYED S.A.  Su uso indebido así como su reproducción sin el expreso y escrito consentimiento previo de TOPYED S.A se encuentran expresamente prohibidos y serán objeto de las acciones judiciales que correspondan. El vínculo que se entable entre el Usuario y el Sitio no podrá ser interpretado como un contrato de sociedad, mandato o que genere ningún tipo de relación entre el Sitio y el Usuario distinta a la que se establezca en el Sitio, con los alcances allí referidos. Por el sólo hecho de acceder al Sitio, el Usuario reconoce y acepta que el uso de Internet implica la asunción de riesgos de daños de diversa índole, que eventualmente podrían afectar al software y al hardware del Usuario, pudiendo la computadora del Usuario ser atacada por hackers que podrían tener acceso a la información contenida en la computadora del Usuario, extraerla o dañarla. El envío de información a través de la red o a través de e-mails tiene el riesgo de que tal información pueda ser captada por un tercero. El Sitio no se hace responsable de las consecuencias que pudiera acarrear al Usuario la asunción por parte del Usuario de ese riesgo.
          Excepto en aquellos casos en que la responsabilidad de TOPYED S.A pueda estar limitada por medio de una política específica, en todo otro caso de existir responsabilidad de TOPYED S.A,  por cualquier tipo de daños vinculados al Producto, el monto de la misma no excederá en su totalidad el precio pagado por el Usuario por el producto en cuestión.
          Para adquirir los Productos ofrecidos por el Sitio, los Usuarios deberán facilitar determinados datos de carácter personal. Su información personal será procesada y almacenada en servidores de TOPYED S.A. Para mayor información sobre la privacidad de los Datos Personales y casos en los que será revelada la información personal, se puede consultar nuestra Política de Privacidad www.ver.com.ar/politicadeprivacidad/
          No se permitirá ninguna acción o uso de dispositivo, software, u otro medio tendiente a interferir tanto en las actividades y operatoria de TOPYED S.A como en las ofertas, descripciones, cuentas o bases de datos de TOPYED S.A. Cualquier intromisión, tentativa o actividad violatoria o contraria a las leyes sobre derecho de propiedad intelectual y/o a las prohibiciones estipuladas en el presente harán pasible a su responsable de las acciones legales pertinentes, y a las sanciones previstas en estos Términos y Condiciones, así como también lo hará responsable de indemnizar los daños y perjuicios  ocasionados.
          Disponibilidad / Precio de productos
          La información sobre productos y precios está sujeta a cambios sin previo aviso.
          Todos los precios expresados en el Sitio incluyen IVA, salvo que se indique lo contrario.
          Todos los precios en el Sitio están expresados en pesos argentinos, moneda de curso legal de la República Argentina.
          No se permite la modalidad de cambio de producto por el mismo modelo y mismo talle, salvo que el cambio se deba a un defecto del producto (Política de Cambios Venta On Line) en www.ver.com.ar/politicadecambios/
          Antes de comprar, el Usuario deberá tener en cuenta que los productos seleccionados pueden no encontrarse disponibles, dado que toda compra se encuentra sujeta a disponibilidad.
          El precio de los Productos que ofrecemos en el Sitio, puede no coincidir con el de los distintos locales.
          Al realizar una compra on line a través del Sitio, se tienen por aceptados por el Usuario los presentes Términos y Condiciones, la Política de Privacidad y la Política de Cambios de Venta On Line vigentes. Del mismo modo, acepta que las condiciones correspondientes al uso de los medios de pago y de entrega de los Productos que se ofrecen en el Sitio –y en especial la prestación de dichos servicios- resultan ajenos a TOPYED S.A., razón por la cual ninguna responsabilidad podrá ser imputada a TOPYED S.A. derivada del uso y/o de la correcta prestación de dichos servicios.
          Vigencia y validez de las promociones
          En el caso de que se realicen ofertas y promociones de Productos, éstas tendrán validez para las compras efectuadas desde la fecha de comienzo de las mismas, hasta la de finalización de la oferta según lo expuesto en el Sitio. Los términos y condiciones particulares de las mismas serán comunicados en el Sitio, y estarán siempre sujetas a la existencia en stock de los Productos ofrecidos. A tal fin se considerará como fecha de  concreción de la operación de compra la fecha de pago con los distintos medios aceptados.
          Modificaciones a los Términos y Condiciones
          El Sitio se reserva expresamente los siguientes derechos: (i) A modificar o eliminar, en forma unilateral, parcial o totalmente, tanto la disposiciones de los elementos que componen el Sitio, como su configuración general o particular, los servicios o contenidos o sus condiciones de acceso y utilización; (ii) A denegar o retirar el acceso a este Sitio, sus servicios y contenidos, en cualquier momento y sin aviso previo, a aquellos Usuarios que incumplan los Términos y Condiciones, (iii) A poner termino, suspender o interrumpir unilateralmente, en cualquier momento y sin aviso previo, la prestación del servicio del Sitio, (iv) A modificar los alcances de los Términos y Condiciones en cualquier momento. Los Términos y Condiciones serán interpretados y ejecutados de acuerdo a las leyes de la República de Argentina. El Usuario se somete incondicionalmente a la jurisdicción de los tribunales de la Ciudad Autónoma de Buenos Aires para la resolución de cualquier duda, dificultad o controversia relacionada con todo o parte de los Términos y Condiciones.
          El Usuario indemnizará y mantendrá indemne a TOPYED S.A, sus filiales, empresas controladas y/o controlantes, directivos, administradores, representantes y empleados, por cualquier reclamo o demanda de otros Usuarios o terceros por sus actividades en el Sitio o por su incumplimiento los Términos y Condiciones Generales y demás Políticas que se entienden incorporadas al presente o por la violación de cualesquiera leyes o derechos de terceros, incluyendo los gastos, honorarios de abogados y demás costas que pudieran devengarse.
          Se fija como domicilio de TOPYED S.A la calle Alsina 1184, Ciudad Autónoma de Buenos Aires, Código Postal 1088, República Argentina. Ante cualquier duda sobre los Términos y Condiciones Generales o demás políticas y principios que rigen al Sitio, se solicita consultar nuestra página www.ver.com.ar.
          </textarea>
        </div>
        <div class="form-row">
          <label>
            <input type="checkbox" formControlName="terms"> Acepto los términos y condiciones
          </label>
        </div>
        <div class="form-row">
          <div class="alert alert-danger" *ngIf="isFieldValid('organization.terms')">* Se deben aceptar los términos y condiciones
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="contenido" style="min-height:60px">
    <div class="container">
      <div class="row">
        <div class="col-md-2">
          <!--<button *ngIf="esCancelar" class="btn btn-danger boton_grande"  (click)="onCancelar()" data-dismiss="modalRegistro" >Cancelar</button>-->
        </div>
        <div class="col-md-6">
        </div>
        <div class="col-md-2 ">
          <button *ngIf="esAnterior" class="btn btn-dark disabled boton_grande" (click)="onAnterior()">Anterior</button>
        </div>
        <div class="col-md-2 ">
          <button *ngIf="esSiguiente" class="btn btn-primary boton_grande" (click)="onSiguiente()">Siguiente</button>
          <button *ngIf="esFinalizar" class="btn btn-primary boton_grande" (click)="onSubmit()" data-dismiss="modalRegistro">Finalizar</button>
        </div>
      </div>
    </div>
  </div>
  <!--<div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Cerrar</button>
    <div>
      <button type="submit" (click)="onSubmit()" class="btn btn-primary">Guardar</button>
    </div>
  </div>-->
</form>